<!--pages/serviceList/serviceList.wxml-->
<view class='content'>

  <view class='fixBox' hidden='{{state==3}}'>
    <view class='fixLeft' bindtap='showUnFinish'>
      <text class='{{state == 1 ? "choice" : ""}}'>未完成</text>
    </view>
    <view class='fixRight' bindtap='showFinish'>
      <text class='{{state == 2 ? "choice" : ""}}'>已完成</text>
    </view>
  </view>

  <view class='unfinished' style='padding-top:80rpx;' hidden='{{state != 1}}'>
    <view class='noDataView' hidden="{{unfinishOrders.length > 0}}" style='height:{{windowHeight-80}}rpx'>
      <text class='noData'>没有服务工单数据</text>
    </view>
    <view class='item' wx:key="item.orderId" wx:for="{{unfinishOrders}}" bindtap='toDetail' data-order-id="{{item.orderId}}">
      <text class='title'>{{item.houseVo.houseName}}</text>
      <text class='desc'>{{item.housekeepingVo.serviceName}}</text>
      <text class='number'>NO.{{item.orderNumber}}</text>
      <view class='line'></view>
      <view class='bottom'>
        <text>发布于{{item.createdDate}}</text>
        <view class='reminder' catchtap='hasten' data-order='{{item}}'>我要催单</view>
      </view>
    </view>
  </view>

  <view class='finished' style='padding-top:80rpx;' hidden='{{state != 2}}'>
    <view class='noDataView' hidden="{{finishOrders.length > 0}}" style='height:{{windowHeight - 80}}rpx'>
      <text class='noData'>没有服务工单数据</text>
    </view>
    <view class='item' wx:key="item.orderId" wx:for="{{finishOrders}}" bindtap='toDetail' data-order-id="{{item.orderId}}">
      <text class='title'>{{item.houseVo.houseName}}</text>
      <text class='desc'>{{item.housekeepingVo.serviceName}}</text>
      <text class='number'>NO.{{item.orderNumber}}</text>
      <view class='line'></view>
      <view class='bottom'>
        <text>发布于{{item.createdDate}}</text>
        <view hidden="{{item.comment}}" class='assess' catchtap="comment" data-order-id="{{item.orderId}}">服务点评</view>
        <view hidden="{{!item.comment}}" class='reminder'>我的评论</view>
      </view>
    </view>
  </view>

  <view class='noLoginBox' hidden='{{state!=3}}' style='height:{{windowHeight}}rpx'>
    <loginView bind:loginSuccess="loginSuccess"></loginView>
  </view>
</view>